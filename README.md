# BestNox

客先常駐や、フリーランスでの自社業務を想定したWebサイトです。
主な機能としては以下となります。

- アカウント登録
  メールやSNS認証は実装していません。
- ログイン
- ファイルアップロード
  公開・非公開が選択できます。
- 業務日報
  作成者以外の閲覧権限は未実装です。
- オンラインメモ（課題表やTodoリストなど）

デモサイトは準備中です。

![BestNox BestNox](https://user-images.githubusercontent.com/39305262/56458538-11ce0e00-63c3-11e9-8048-00aa8a816ff6.png)

## はじめに
開発や検証ができるまでの手順を説明します。
### 前提条件
ASP.NET Core2.2製です。
フロントエンドはBootstrap4です。フロントエンドフレームワークは現在の所導入していません。
開発とテスト環境はWindows10、VisualStudio2017です。
DBはMariaDB10.3で動作を確認しています。
インストール作業を行う前に、MariaDBをセットアップしてユーザ作成まで完了した状態にします。

### インストール方法
プロジェクトごとチェックアウトを行います。
マイグレーション機能が必要なので、VisualStudio2017以降を使用します。

#### ファイルの編集
以下のファイルを編集します。

##### appsettings.json
チェックアウトした時点では"DebugConnection"の接続設定を使用するようになっているので、これをデータベースの環境に合わせて変更します。

#### マイグレーション
変更を行ったら、マイグレーション機能でデータベースにテーブルを作成します。
パッケージマネージャコンソールに以下を入力します。

```
> Update-Database
```

![マイグレーションによるテーブル作成](https://user-images.githubusercontent.com/39305262/56457865-bf3d2380-63bb-11e9-855b-e5fe094ecd2a.png "マイグレーションによるテーブル作成")

#### 管理者アカウントの作成
Areas/Identity/Pages/Account/Register.cshtml

このソースにコメントアウトがあるので、これを解除します。（設定ファイルで切り替えできるようにすべきですね）
実際にVS2017でビルドを行い、デバッグなしで実行を行います。
（ローカル環境からDBサーバに接続できる状態でない場合は、実際に動かすサーバにデプロイします）
Webサイトがブラウザに表示されますので、アカウントの作成を行います。
この時、管理者権限付与にチェックを入れてください。このアカウントに管理者権限が付与されます。
パスワードは大文字小文字を混合させ、記号を1字以上入れてください。
アカウント名は英数字のみ使用可能です。

**アカウントの作成が終わったら再びコメントアウトしてください**

#### パラメータ設定
管理者アカウントでログインすると「システムパラメータ設定」画面を表示できます。
ここで、以下のように登録します。
（未設定の場合の値を定義しておくべきですね。または自動初期化。）

|分類ID  |選択肢の表示順序  |画面表示内容  |設定値  |
|---|---|---|---|
|1  |1  |1  |1  |
|1  |2  |2  |2  |
|1  |3  |3  |3  |
|2  |1  |1  |1  |
|2  |2  |2  |2  |
|2  |3  |3  |3  |
|2  |4  |4  |4  |
|2  |5  |5  |5  |
|3  |0  |0  |0  |
|3  |1  |1  |1  |
|3  |2  |2  |2  |
|3  |3  |3  |3  |
|3  |4  |4  |4  |
|3  |5  |5  |5  |

### 使用方法
適当に使います。

## テストの実行
テストは作成していません。

## デプロイ
現在検証中です。

## 協働するシステムのリスト
- 現在の所、ありません。

## コントリビューション
私たちのコーディング規範とプルリクエストの手順などは特に考えていません。

## バージョン管理
私たちはバージョン管理方法を特に設けていません。

## 著者
- **Ginpaydo** - *原著者* - [Ginpaydo](https://github.com/ginpaydo)  
このプロジェクトへの[貢献者](https://github.com/ginpaydo/project/contributors)のリストもご覧ください。

## ライセンス
このプロジェクトは MIT ライセンスの元にライセンスされています。 詳細は[LICENSE.md](LICENSE.md)をご覧ください。

## 謝辞
- 私を酷使することでこのようなサイトを考案するきっかけを作ってくださったSESの某社に感謝致します。

